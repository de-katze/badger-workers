/* esm.sh - esbuild bundle(char-width-table-consumer@1.0.0) es2022 production */
import * as __0$ from "../../node_fs.js";
import * as __1$ from "../../binary-search@1.3.6/es2022/binary-search.mjs";
import * as __2$ from "../../util@0.12.5/es2022/util.mjs";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"fs":return e(__0$);case"binary-search":return e(__1$);case"util":return e(__2$);default:throw new Error("module \""+n+"\" not found");}};
var W=Object.create;var u=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var l=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var f=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),T=(r,t)=>{for(var e in t)u(r,e,{get:t[e],enumerable:!0})},c=(r,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of A(t))!N.call(r,n)&&n!==e&&u(r,n,{get:()=>t[n],enumerable:!(s=q(t,n))||s.enumerable});return r},a=(r,t,e)=>(c(r,t,"default"),e&&c(e,t,"default")),m=(r,t,e)=>(e=r!=null?W(F(r)):{},c(t||!r||!r.__esModule?u(e,"default",{value:r,enumerable:!0}):e,r));var p=f((G,w)=>{"use strict";var C=l("fs"),_=l("binary-search"),{promisify:j}=l("util"),J=j(C.readFile);w.exports=class d{constructor(t){this.data=t,this.emWidth=this.widthOf("m")}static create(t){return new d(t)}static async load(t){let e=await J(t),s=JSON.parse(e);return new d(s)}static loadSync(t){let e=C.readFileSync(t),s=JSON.parse(e);return new d(s)}static isControlChar(t){return t<=31||t===127}widthOfCharCode(t){if(this.constructor.isControlChar(t))return 0;let e=_(this.data,t,([s],n)=>s-n);if(e>=0){let[,,s]=this.data[e];return s}else{let s=-e-2,[n,i,b]=this.data[s];return t>=n&&t<=i?b:void 0}}widthOf(t,{guess:e=!0}={}){return Array.from(t).reduce((s,n)=>{let i=this.widthOfCharCode(n.codePointAt(0));if(i===void 0){if(e)return s+this.emWidth;throw Error(`No width available for character code ${n.codePointAt(0)}`)}else return s+i},0)}}});var h=f((H,x)=>{"use strict";var y=p(),{create:P,load:v,loadSync:E}=y;x.exports={createConsumer:P,loadConsumer:v,loadConsumerSync:E,CharWidthTableConsumer:y}});var o={};T(o,{CharWidthTableConsumer:()=>k,createConsumer:()=>I,default:()=>B,loadConsumer:()=>$,loadConsumerSync:()=>g});var O=m(h());a(o,m(h()));var{createConsumer:I,loadConsumer:$,loadConsumerSync:g,CharWidthTableConsumer:k}=O,{default:S,...z}=O,B=S!==void 0?S:z;export{k as CharWidthTableConsumer,I as createConsumer,B as default,$ as loadConsumer,g as loadConsumerSync};
//# sourceMappingURL=char-width-table-consumer.mjs.map